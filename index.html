<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <!-- <meta name="viewport" content="initial-scale=1, maximum-scale=1"> -->
    <link rel="manifest" href="public/manifest.json">
    <link rel="icon" href="public/images/virus.png" sizes="16x16" type="image/png">
    <title> Corona Prevention Game </title>
  </head>
  <style>
    html, body {
      margin: 0;
      user-select: none;
      /* width: 100vw;
      height: 100vh; */
    }

    .modal {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      margin: auto;
      z-index: 99999;
      max-width: 600px;
      height: 300px;
      background-color: #51443b;
      text-align: center;
      font-size: 40px;
      border-radius: 20px;
      color: white;
      font-family: 'Courier New';
      padding: 40px;
    }

    .modal p {
      margin: 0 0 20px 0;
    }

    .modal button {
      background-color: transparent;
      font-size: 40px;
      color: white;
      border: none;
      font-family: 'Courier New';
      font-weight: bold;
      display: block;
      text-align: center;
      margin: 25px auto auto;
    }

    .disable-dbl-tap-zoom {
      touch-action: manipulation;
    }

    .no-list-style {
      list-style: none;
    }

    .gameName {
      font-size: 68px;
      font-family: 'Comic Sans MS';
      color: white;
      text-align: center;
      text-shadow: 1px 1px 18px #b5b4b4;
    }

    .rulesBoard {
      background-color: #cecece;
      color: #3e3633;
      border-radius: 20px;
      padding: 30px;
      font-family: 'Courier New';
    }

    .rulesBoard > h1 {
      text-align: center;
      text-transform: uppercase;
      font-size: 46px;
    }

    .rulesBoard ul {
      margin-top: 30px;
      max-width: 750px;
      width: 100%;
      font-weight: bold;
      font-size: 32px;
    }

    .rulesBoard li {
      margin: 25px 0;
    }

    .startButton {
      background-color: #cecece;
      padding: 10px 60px;
      height: 150px;
      min-width: 350px;
      font-family: 'Courier New';
      font-weight: bold;
      font-size: 72px;
      color: #4c4442;
      line-height: 2.2;
      text-align: center;
      border-radius: 25px;
      -webkit-box-shadow: 0px 0px 50px 0px rgba(206, 206, 206);
      -moz-box-shadow: 0px 0px 50px 0px rgba(206, 206, 206);
      box-shadow: 0px 0px 50px 0px rgba(206, 206, 206);
    }

    .developer {
      font-size: 25px;
      text-transform: uppercase;
      color: white;
      letter-spacing: 2px;
    }

    .more-information-link {
      color: white;
      font-size: 42px;
      font-family: 'Courier New';
      text-align: center;
      max-width: 600px;
      display: inline-block;
      text-decoration: none;
    }

    .share-header {
      color: white;
      font-size: 32px;
      font-family: 'Courier New';
      text-align: center;
      /* max-width: 00px; */
    }

    .whatsapp-link {
      display: inline-block;
      width: 120px;
      height: 120px;
      background-size: 120px;
      background: url('./src/assets/images/whatsapp.png') center no-repeat;
    }
  </style>

  <body class="disable-dbl-tap-zoom">
      <div id="myModal" class="modal">
          <!-- Modal content -->
          <div class="modal-content">
              <p>Gostaria de adicionar um atalho deste jogo na tela inicial do seu celular?</p>
              <button onclick="offlinePrompt()">Sim</button>
              <button class="close">NÃ£o, obrigado(a)</button>
          </div>
      </div>
  </body>
</html>
 
<script>
    if ('serviceWorker' in navigator) {
             window.addEventListener('load', function() {
                 navigator.serviceWorker.register('/serviceWorker.js', {scope: '/'}).then(function(registration) {
                     console.log('ServiceWorker registration successful with scope: ', registration.scope);
                 }, function(err) {
                     console.log('ServiceWorker registration failed: ', err);
                 });
             });
         }
         let deferredPrompt;
         window.addEventListener('beforeinstallprompt', function (e) {
             console.log('beforeinstallprompt triggered');
             e.preventDefault();
             deferredPrompt = e;
             modal.style.display = 'block';
         });
         // Get the modal
         var modal = document.getElementById('myModal');
         // Get the <span> element that closes the modal
         var span = document.getElementsByClassName('close')[0];
         // When the user clicks anywhere outside of the modal, close it
         window.onclick = function(event) {
             if (event.target == modal) {
                 modal.style.display = 'none';
             }
         }
         // When the user clicks on <span> (x), close the modal
         span.onclick = function() {
             modal.style.display = 'none';
         }
         function offlinePrompt() {
             if (deferredPrompt) {
               deferredPrompt.prompt();
             }
         }
</script>